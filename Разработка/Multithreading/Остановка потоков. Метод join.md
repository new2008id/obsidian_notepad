#multithreading #java 
### Основные понятия

- Метод `stop()` устарел и не рекомендуется к использованию из-за потенциальных проблем с целостностью данных.
- Метод `interrupt()` устанавливает флаг прерывания, но не останавливает поток немедленно. Поток должен сам проверить этот флаг и завершить свою работу.
- Используйте механизмы для управления потоками, например `volatile boolean` поле и цикл проверки в методе `run()`, а также `synchronized` для доступа к разделяемым переменным.
### Применение:

```java
class MyThread extends Thread {
   private volatile boolean running = true;

    @Override
   public void run() {
        while(running){
           System.out.println("Thread: " + Thread.currentThread().getName());
          try {
             Thread.sleep(1000);
           } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
               return; // Завершаем работу, если interrupted
          }
        }
    }

    public void stop(){
       running = false;
    }
}
MyThread thread = new MyThread();
thread.start();
// ...
thread.stop();
```

**Метод `join()`:**

- **Назначение:** Метод `join()` позволяет одному потоку дождаться завершения другого потока.
- **Действие:** Когда поток вызывает метод `join()` для другого потока, вызывающий поток приостанавливает своё выполнение, пока целевой поток не завершится.
- Метод `join()` может выбрасывать исключение `InterruptedException`.
- Перегруженные версии метода `join()` позволяют указать максимальное время ожидания.
### Примеры использования:

```java
public class Main {  
    private static List<String> list;  
  
    public static void main(String[] args) {  
        Thread thread1 = new Thread(new Runnable() {  
            @Override  
            public void run() {  
                list = new ArrayList<>();    
            }  
        });  
  
        Thread thread2 = new Thread(new Runnable() {  
            @Override  
            public void run() {    
	            list.size()
            }  
        });   
  
        thread1.start();  
        thread2.start();  
        // для того чтобы долждаться какого метода одного из 
        // потоков используется метод join()
		try {  
            thread1.join();  
            thread2.join();   
        } catch (InterruptedException e) {  
            throw new RuntimeException(e);  
        }  
        System.out.println(list1.size());  
        System.out.println(list2.size());  
    }  
}
```
