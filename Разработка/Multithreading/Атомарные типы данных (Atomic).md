#multithreading #daemon_race
### Основные понятия

В контексте `многопоточности` `атомарная операция` — это операция, которая выполняется как единое целое и не может быть прервана другим `потоком`. Это значит, что либо вся операция выполняется, либо не выполняется вообще. Нет промежуточных состояний.

`Volotile` - запрещает кэшировать `переменную` (сохранять значение в локальную память потока) и говорит всегда использовать её из основной `памяти`.

**Проблемы с обычными переменными:**

Обычные переменные (например, `int`, `long`, `float`, `double`) не являются атомарными. Когда несколько потоков пытаются одновременно изменять значение одной и той же переменной, могут возникнуть проблемы:

- **Состояние гонки (Race Condition):** Результат выполнения программы зависит от порядка выполнения потоков.
- **Некорректные значения:** Потоки могут прочитать и записать значения вперемешку, что приводит к неожиданным и неправильным результатам.

**Атомарные типы данных в Java:**

Для решения этих проблем в Java предоставляется набор классов в пакете `java.util.concurrent.atomic`, которые реализуют атомарные операции.
### Применение:

>[! ] [[Атомарные типы данных (Atomic)]] позволяют за одну операцию получить и установить новое значение. Это еще один способ, как можно решить проблему с `Race Condition` ([[Потоки-демоны и состояние гонки]])
### Примеры использования:

```java
public class Counter {  
    private AtomicInteger value1 = new AtomicInteger();  
  
    public int getValue1() {  
        return value1.intValue();  
    }  
  
    public void increment() {  
        value1.getAndIncrement();  
    }  
  
    public void decrement() {  
        value1.getAndDecrement();  
    }  
}
```


