#java #stream #filter #map #collect 

### Основные понятия

`Stream API` (появился в Java 8) — это способ обработки коллекций данных (списков, множеств, массивов и т.д.) в декларативном стиле, используя последовательность операций. Вместо того, чтобы явно указывать, как нужно обработать каждый элемент коллекции (как в циклах `for`), вы указываете, _что_ нужно сделать с данными.

Все операторы по работе со `Stream` делятся на два типа:
- промежуточные
- завершающие (терминальные)
 
>[! ] `Терминальные операторы` завершают работу потока. 

>[!warning ] В `Stream` может быть сколько угодно промежуточных операторов. 

>[!error ] Терминальный может быть только `один`.

>[!success ] Терминальный оператор запускает на выполнение промежуточные операторы. 
### Основные принципы Stream API:

- **Не изменяет исходную коллекцию:** Операции Stream API не изменяют исходную коллекцию данных. Они создают новый `Stream`, в котором данные обработаны.
- **Ленивые вычисления:** Операции выполняются только тогда, когда это необходимо для получения результата. Это позволяет оптимизировать производительность и избежать ненужных вычислений.
- **Конвейер операций:** Операции объединяются в конвейер (`pipeline`), где результат одной операции передается на вход следующей.
- **Поддержка параллелизма:** Stream API позволяет легко распараллелить обработку данных, что может значительно ускорить выполнение операций на многоядерных процессорах.

### Метод `filter()`

- **Назначение:** Фильтрация элементов Stream на основе заданного условия. В результирующий Stream попадают только те элементы, для которых условие выполняется (возвращает `true`).
    
- **Аргумент:** `Predicate<T>` — функциональный интерфейс, представляющий условие фильтрации. Метод `test(T t)` интерфейса `Predicate` принимает элемент Stream и возвращает `true` или `false`.
    
- **Возвращает:** Новый Stream, содержащий только элементы, прошедшие фильтрацию.

### Метод `map()`

- **Назначение:** Преобразование каждого элемента Stream в другой элемент.
    
- **Аргумент:** `Function<T, R>` — функциональный интерфейс, представляющий функцию преобразования. Метод `apply(T t)` интерфейса `Function` принимает элемент Stream и возвращает новый элемент.
    
- **Возвращает:** Новый Stream, содержащий преобразованные элементы.

**Метод `collect()`**

- **Назначение:** Сборка элементов Stream в какую-либо коллекцию или другой результат. Это терминальная операция.
    
- **Аргумент:** `Collector` — интерфейс, определяющий стратегию сборки элементов. Класс `Collectors` предоставляет множество готовых реализаций `Collector` для различных задач.
    
- **Возвращает:** Результат сборки элементов Stream.

### Примеры использования:

```java
public class Main {  
    public static void main(String[] args) {  
  
        List<Integer> numbers = new ArrayList<>();  
        for (int i = 0; i < 100; i++) {  
            numbers.add((int) (Math.random() * 1000));  
        }  
  
        // вызвали поток данных  
        List<String> list  = numbers.stream()  
  
			// промежуточные операции  
			.filter((integer) -> integer % 2 == 0)  
			.map((integer -> "Number: " + integer))  
			.filter((string) -> string.endsWith("0"))  
			.map((string) -> string + "!")  
			// терминальные  
			.collect(Collectors.toList()); // собирает данные обратно в коллекцию  
  
        for (String s : list) {  
            System.out.println(s);  
        }  
    }
```


